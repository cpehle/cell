namespace demo = {

    socket binop = {
        <= a : int
        <= b : int
        => y : int
    }


    mod adder : binop = {
        var test : int

        process = { port.y = port.a + port.b; }

        process = {
            test = port.a;
        }
    }

    /*mod multiplier : binop = {*/
        /*process = { port.y = port.a * port.b; }*/
    /*}*/


    mod dataflow = {
        var to_plus : binop
        var add_res : int

        def __init__() = {
            plus.a = 0;
            plus.b = 0;
        }

        process = {
            add_res = plus.y;
        }

        periodic(2 ns) = {
            plus.a = plus.a + 1;
            plus.b = plus.b + 1;
        }

        inst plus : adder
    }



}
